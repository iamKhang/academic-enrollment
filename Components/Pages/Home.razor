@page "/"
@attribute [Authorize]
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Authorization
@using Microsoft.JSInterop
@using MudBlazor
@inject SignInManager<IdentityUser> SignInManager
@inject NavigationManager Navigation
@inject IJSRuntime JSRuntime

<PageTitle>Trang chủ</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="mt-4 max-w-7xl mx-auto">
    <MudStack Spacing="4">

        <!-- Welcome Card -->
        <MudPaper Class="p-6 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200" Elevation="1">
            <MudStack Spacing="3">
                <MudText Typo="Typo.h5" Color="Color.Primary" Class="flex items-center">
                    <MudIcon Icon="@Icons.Material.Filled.Dashboard" Class="mr-2" />
                    Bảng điều khiển
                </MudText>
                
                <MudText Typo="Typo.body1" Color="Color.Secondary">
                    Chào mừng bạn đến với hệ thống quản lý đăng ký học phần. 
                    Từ đây bạn có thể quản lý sinh viên, giảng viên, môn học và các hoạt động đăng ký.
                </MudText>
            </MudStack>
        </MudPaper>

        <!-- Quick Stats -->
        <MudGrid>
            <MudItem xs="12" sm="6" md="3">
                <MudPaper Class="p-6 shadow-lg hover:shadow-xl transition-shadow duration-300 bg-gradient-to-br from-blue-500 to-blue-600 text-white" Elevation="2">
                    <MudStack AlignItems="AlignItems.Center" Spacing="2">
                        <MudIcon Icon="@Icons.Material.Filled.People" Size="Size.Large" Color="Color.Primary" />
                        <MudText Typo="Typo.h4" Color="Color.Primary" Class="text-white font-bold">150</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary" Class="text-blue-100">Sinh viên</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>
            
            <MudItem xs="12" sm="6" md="3">
                <MudPaper Class="p-6 shadow-lg hover:shadow-xl transition-shadow duration-300" Elevation="2">
                    <MudStack AlignItems="AlignItems.Center" Spacing="2">
                        <MudIcon Icon="@Icons.Material.Filled.Person" Size="Size.Large" Color="Color.Secondary" />
                        <MudText Typo="Typo.h4" Color="Color.Secondary">25</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">Giảng viên</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>
            
            <MudItem xs="12" sm="6" md="3">
                <MudPaper Class="p-6 shadow-lg hover:shadow-xl transition-shadow duration-300" Elevation="2">
                    <MudStack AlignItems="AlignItems.Center" Spacing="2">
                        <MudIcon Icon="@Icons.Material.Filled.Book" Size="Size.Large" Color="Color.Tertiary" />
                        <MudText Typo="Typo.h4" Color="Color.Tertiary">45</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">Môn học</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>
            
            <MudItem xs="12" sm="6" md="3">
                <MudPaper Class="p-6 shadow-lg hover:shadow-xl transition-shadow duration-300" Elevation="2">
                    <MudStack AlignItems="AlignItems.Center" Spacing="2">
                        <MudIcon Icon="@Icons.Material.Filled.School" Size="Size.Large" Color="Color.Info" />
                        <MudText Typo="Typo.h4" Color="Color.Info">12</MudText>
                        <MudText Typo="Typo.body2" Color="Color.Secondary">Lớp học</MudText>
                    </MudStack>
                </MudPaper>
            </MudItem>
        </MudGrid>

        <!-- Welcome Message -->
        <MudPaper Class="pa-6" Elevation="1">
            <MudStack Spacing="3">
                <MudText Typo="Typo.h5" Color="Color.Primary">
                    <MudIcon Icon="@Icons.Material.Filled.WavingHand" Class="mr-2" />
                    Chào mừng bạn đến với Hệ thống Đăng ký Học phần
                </MudText>
                
                <MudText Typo="Typo.body1" Color="Color.Secondary">
                    Sử dụng thanh bên trái để truy cập các chức năng quản lý. Hệ thống hỗ trợ đầy đủ các tính năng từ quản lý sinh viên, giảng viên, môn học đến đăng ký học phần và báo cáo.
                </MudText>
                
                <MudAlert Severity="Severity.Info" Class="mt-4">
                    <MudText Typo="Typo.body2">
                        <MudIcon Icon="@Icons.Material.Filled.Info" Class="mr-2" />
                        <strong>Mẹo:</strong> Bạn có thể sử dụng các phím tắt để điều hướng nhanh hơn. Nhấn Ctrl + K để mở tìm kiếm toàn cục.
                    </MudText>
                </MudAlert>
            </MudStack>
        </MudPaper>
    </MudStack>
</MudContainer>

@code {
    private void HandleLogout()
    {
        Navigation.NavigateTo("/logout", forceLoad: true);
    }
}